% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/splitColumnBySep.R
\name{splitColumnBySep}
\alias{splitColumnBySep}
\title{Split Column by Delimiter and/or Separator into Multiple Columns}
\usage{
splitColumnBySep(
  data,
  targetCol,
  delim = NULL,
  sep = NULL,
  newColNames = NULL,
  position = "last",
  remove = TRUE,
  convert_na = TRUE,
  expand_rows = FALSE,
  keep_delim = FALSE
)
}
\arguments{
\item{data}{A data frame containing the column to split}

\item{targetCol}{Character(1). The name of the column to split}

\item{delim}{Character(1). Delimiter used to separate multiple values in the 
same column (e.g., `<;>` or `;`). If provided alone without `sep`, creates 
a "long" table with multiple rows. If provided with `sep`, first splits by 
delimiter then by separator.}

\item{sep}{Character(1). Separator used to split column name and value 
(e.g., `:`). For example, in "Bristol stool form score:1", the separator 
is `:`. If NULL, only delimiter splitting is performed.}

\item{newColNames}{Character vector. Names for the new columns after splitting.
- If both delim and sep are provided: can be a character vector for the 
  expected column names after splitting, or NULL to auto-extract from data
- If only sep is provided: vector of length 2, or NULL for default names
- If only delim is provided: not used (creates long table)}

\item{position}{Character(1). Where to split by separator: "last" (default) 
splits at the last occurrence, "first" splits at the first occurrence.
Only used when `sep` is provided.}

\item{remove}{Logical. If TRUE (default), remove the original column from 
the output data frame}

\item{convert_na}{Logical. If TRUE (default), convert character "NA" to 
logical NA values}

\item{expand_rows}{Logical. If TRUE and delim is provided, expand to multiple 
rows (long format). If FALSE (default) and both delim and sep are provided, 
behavior depends on keep_delim parameter.}

\item{keep_delim}{Logical. If TRUE and both delim and sep are provided, splits 
each delimited value by separator and recombines with delimiter, creating 2 
columns that preserve the delimiter. If FALSE (default), creates wide format 
with multiple columns.}
}
\value{
A data frame with split columns or expanded rows
}
\description{
Generalized function to split a column containing delimiter and/or separator 
delimited values. This function is similar to the approach used in 
OmicsMLRepoR::getWideMetaTb and spreadMeta functions.
}
\examples{
\dontrun{
# Example 1: Split by separator only (simple name:value split)
data <- data.frame(
  feces_phenotype = "Bristol stool form score (observable entity):1"
)
result <- splitColumnBySep(data, targetCol = "feces_phenotype", sep = ":")

# Example 2: Split by delimiter only (expand to multiple rows)
data <- data.frame(
  values = "value1<;>value2<;>value3"
)
result <- splitColumnBySep(data, targetCol = "values", delim = "<;>", expand_rows = TRUE)

# Example 3: Split by both delimiter and separator (wide format)
data <- data.frame(
  feature = "color:red<;>shape:round<;>size:medium"
)
result <- splitColumnBySep(data, targetCol = "feature", delim = "<;>", sep = ":")

# Example 4: Split by separator, preserve delimiter (2 columns)
data <- data.frame(
  feces_phenotype = "Calprotectin Measurement:69.02708<;>Harvey-Bradshaw Index:4"
)
result <- splitColumnBySep(data, targetCol = "feces_phenotype", 
                           delim = "<;>", sep = ":", keep_delim = TRUE)
# Result: feces_phenotype = "Calprotectin Measurement<;>Harvey-Bradshaw Index"
#         feces_phenotype_value = "69.02708<;>4"

# Example 5: Multiple entries with delimiter and separator
data <- data.frame(
  metadata = "age:45;bmi:28.5;height:175"
)
result <- splitColumnBySep(data, targetCol = "metadata", delim = ";", sep = ":")
}

}
