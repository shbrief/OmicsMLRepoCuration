% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/loadSchema.R
\name{table_to_linkml_schema}
\alias{table_to_linkml_schema}
\title{Convert data dictionary to LinkML schema format}
\usage{
table_to_linkml_schema(
  schema_table,
  schema_id = "https://example.org/curatedMetagenomicData",
  schema_name = "curatedMetagenomicData",
  schema_version = "1.0.0",
  schema_description = "Metadata schema for curatedMetagenomicData package",
  class_name = "MetadataRecord",
  output_file = NULL
)
}
\arguments{
\item{schema_table}{A data frame containing the schema/data dictionary with
columns: col.name, col.class, unique/uniqueness, required/requiredness,
multiplevalues, description, allowedvalues, and optionally dynamic.enum,
dynamic.enum.property, delimiter, etc.}

\item{schema_id}{Character string for the schema identifier URI. Default is
"https://example.org/curatedMetagenomicData".}

\item{schema_name}{Character string for the schema name. Default is
"curatedMetagenomicData".}

\item{schema_version}{Character string for schema version. Default is "1.0.0".}

\item{schema_description}{Character string describing the schema. Default is
"Metadata schema for curatedMetagenomicData package".}

\item{class_name}{Character string for the main data class name. Default is
"MetadataRecord".}

\item{output_file}{Optional character string specifying the path to write the
LinkML YAML file. If NULL, the schema is returned but not written to file.}
}
\value{
A list containing the LinkML schema structure with id, name, prefixes,
  classes, slots, and enums sections. When output_file is specified, the list
  is also written to the YAML file.
}
\description{
Converts a data dictionary (from CSV or table) into a LinkML-compatible YAML
schema. LinkML is a modeling language for linked data that provides a formal
way to define schemas with rich semantics.
}
\details{
The function creates a LinkML schema with:
\itemize{
  \item Schema metadata (id, name, description, prefixes)
  \item A main class containing all fields as slots
  \item Slot definitions with ranges, patterns, and constraints
  \item Enum definitions for fields with controlled vocabularies
  \item Ontology mappings preserved in slot annotations
}

Type mappings:
\itemize{
  \item character -> string
  \item integer -> integer
  \item numeric/double -> float
}
}
\examples{
# Load data dictionary
dict <- read.csv("inst/schema/cmd_data_dictionary.csv", stringsAsFactors = FALSE)

# Convert to LinkML format
linkml_schema <- table_to_linkml_schema(dict)

# Write to file
# linkml_schema <- table_to_linkml_schema(dict, 
#                    output_file = "inst/schema/cmd_schema.linkml.yaml")

}
